<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VR Dinossauro na Floresta - A-Frame</title>
    <!-- Carregar a biblioteca A-Frame -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <!-- Carregar o WebXR Polyfill -->
    <script src="https://unpkg.com/webxr-polyfill@latest/build/webxr-polyfill.min.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        #enter-vr-button {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            background-color: #FF5722;
            color: white;
            font-size: 18px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            z-index: 999;
        }
    </style>
</head>
<body>
	
    <a-scene>
        <!-- Céu -->
        <a-sky src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg" rotation="0 -130 0"></a-sky>

        <!-- Chão com textura de grama -->
        <a-plane rotation="-90 0 0" width="50" height="50" src="https://cdn.aframe.io/a-painter/images/floor.jpg" repeat="20 20"></a-plane>

        <!-- Modelo 3D do Dinossauro -->
        <a-entity gltf-model="url(https://cdn.aframe.io/examples/ar/models/trex/scene.gltf)" position="0 0 -5" scale="0.5 0.5 0.5" rotation="0 45 0"></a-entity>

        <!-- Árvores ao redor (usando cilindros como troncos e esferas como copa) -->
        <a-cylinder position="-5 1 -10" radius="0.3" height="4" color="#8B5A2B"></a-cylinder>
        <a-sphere position="-5 3 -10" radius="2" color="#228B22"></a-sphere>

        <a-cylinder position="7 1 -12" radius="0.4" height="5" color="#8B5A2B"></a-cylinder>
        <a-sphere position="7 3 -12" radius="2.5" color="#228B22"></a-sphere>

        <a-cylinder position="-8 1 -15" radius="0.5" height="6" color="#8B5A2B"></a-cylinder>
        <a-sphere position="-8 4 -15" radius="3" color="#228B22"></a-sphere>

        <a-cylinder position="10 1 -8" radius="0.3" height="4" color="#8B5A2B"></a-cylinder>
        <a-sphere position="10 3 -8" radius="2" color="#228B22"></a-sphere>

        <!-- Cursor (para interação em dispositivos VR) -->
        <a-entity camera look-controls>
            <a-cursor 
                color="#FF5722" 
                fuse="true" 
                fuse-timeout="1500">
            </a-cursor>
        </a-entity>
    </a-scene>

    <!-- Botão para entrar no modo VR -->
    <button id="enter-vr-button">Entrar no Modo VR</button>

    <script>
		const API_URL="https://upgraded-space-parakeet-4r49r4r4vg9cjq6w.github.dev/users";

        // Obter referências aos elementos
        const scene = document.querySelector('a-scene');
        const enterVRButton = document.getElementById('enter-vr-button');

        // Verificar se o dispositivo suporta VR
        if (scene.hasAttribute('vr-mode-ui')) {
            enterVRButton.style.display = 'block';
        }

        // Evento para entrar no modo VR
        enterVRButton.addEventListener('click', () => {
            scene.enterVR();
        });

        // Ocultar o botão quando entrar no modo VR
        scene.addEventListener('enter-vr', () => {
            enterVRButton.style.display = 'none';
        });

        // Mostrar o botão quando sair do modo VR
        scene.addEventListener('exit-vr', () => {
            enterVRButton.style.display = 'block';
        });
    </script>
</body>
</html>
